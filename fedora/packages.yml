---
- name: Install packages
  hosts: localhost
  become: yes
  tasks:
    - name: upgrade all packages
      package:
        name: "*"
        state: latest

    - name: install packages
      package: name={{ item }}
               state=present
      with_items:
        - ack
        - bat
        - curl
        - git
        - gnome-tweaks
        - htop
        - httpie
        - fd-find
        - make
        - ncdu
        - neovim
        - pass
        - qrencode
        - ranger
        - ripgrep
        - tig
        - tilix
        - util-linux-user
        - virt-manager
        - xclip
        - zsh

    - name: set zsh as default shell
      become_user: "{{ ansible_user_id }}"
      shell: "usermod --shell /usr/bin/zsh {{ ansible_user_id }}"
